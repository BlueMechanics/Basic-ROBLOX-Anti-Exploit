local clearedPlayers = {}
local player = game:GetService("Players").LocalPlayer

local ReplicatedStorage = game:GetService("ReplicatedStorage")
local addEvent = Instance.new("RemoteEvent")
addEvent.Name = "Banned"
addEvent.Parent = ReplicatedStorage
local banned = ReplicatedStorage:WaitForChild("Banned")

local maxWalkSpeed = 100
local maxPlrHealth = 100
local groupID = 7487984
local rankID = 255

while wait(1) do
	local lastPosition = game.Players.LocalPlayer.Character.HumanoidRootPart.Position
	wait(5)
	local currentPosition = game.Players.LocalPlayer.Character.HumanoidRootPart.Position
	
	if player.Character.Humanoid.WalkSpeed > maxWalkSpeed then
		print(player.Name .. " has been detected by Anti-Exploit")
		if player:GetRankInGroup(groupID) >= rankID or clearedPlayers[player.Name] then
			print(player.Name .. " escaped the wrath of moderation")
		else
			banned:FireServer("Speed Hack")
		end
	 elseif player.Character.Humanoid.Health > maxPlrHealth then
		print(player.Name .. " has been detected by Anti-Exploit")
		if player:GetRankInGroup(groupID) >= rankID or clearedPlayers[player.Name] then
			print(player.Name .. " escaped the wrath of moderation")
		else
			banned:FireServer("Health Hack")
		end 
	elseif lastPosition.X >= currentPosition.X + 100 or lastPosition.X <= currentPosition.X - 100 or lastPosition.Z >= currentPosition.Z + 100 or lastPosition.Z <= currentPosition.Z - 100 then
		print(player.Name .. " has been detected by Anti-Exploit")
		if player:GetRankInGroup(groupID) >= rankID or clearedPlayers[player.Name] then
			print(player.Name .. " escaped the wrath of moderation")
		else
			banned:FireServer("Teleportation/Fly Hack")
		end
	end
end

